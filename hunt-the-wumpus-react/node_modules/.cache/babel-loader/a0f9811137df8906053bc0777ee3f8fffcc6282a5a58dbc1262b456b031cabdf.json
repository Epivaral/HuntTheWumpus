{"ast":null,"code":"var _jsxFileName = \"/workspaces/HuntTheWumpus/hunt-the-wumpus-react/src/App.tsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport Board from './components/Board';\nimport Stats from './components/Stats';\nimport { createNewGame, createAgentState, agentStepWithAlgorithm } from './utils/gameLogic';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst App = () => {\n  _s();\n  // Persistent stats state\n  const [stats, setStats] = React.useState({\n    games: 0,\n    victories: 0\n  });\n  const [game, setGame] = React.useState(() => {\n    const g = createNewGame(stats);\n    g.agentState = createAgentState(g.agentPos);\n    return g;\n  });\n  const [autoRunning, setAutoRunning] = React.useState(false);\n  const [log, setLog] = React.useState(game.actionLog || []);\n  const [algorithm, setAlgorithm] = React.useState('dfs');\n  React.useEffect(() => {\n    setLog(game.actionLog || []);\n  }, [game]);\n\n  // Update stats when game ends\n  React.useEffect(() => {\n    if (game.status === 'won' || game.status === 'lost') {\n      setStats(prev => {\n        const isWin = game.status === 'won';\n        return {\n          games: prev.games + 1,\n          victories: prev.victories + (isWin ? 1 : 0)\n        };\n      });\n    }\n    // eslint-disable-next-line\n  }, [game.status]);\n  const handleNewGame = () => {\n    const g = createNewGame(stats);\n    g.agentState = createAgentState(g.agentPos);\n    setGame(g);\n    setAutoRunning(false);\n  };\n  const handleStep = () => {\n    setGame(prev => agentStepWithAlgorithm({\n      ...prev,\n      agentState: prev.agentState\n    }, algorithm));\n  };\n\n  // Auto play effect\n  React.useEffect(() => {\n    if (autoRunning && game.status === 'playing') {\n      const t = setTimeout(() => handleStep(), 100);\n      return () => clearTimeout(t);\n    }\n  }, [autoRunning, game]);\n  const handleAutoPlay = () => {\n    setAutoRunning(r => !r);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    style: {\n      display: 'flex',\n      flexDirection: 'row',\n      minHeight: '100vh',\n      width: '100vw',\n      alignItems: 'flex-start',\n      justifyContent: 'flex-start'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        flex: '0 0 auto',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        margin: '32px 0 0 32px'\n      },\n      children: /*#__PURE__*/_jsxDEV(Stats, {\n        game: game,\n        stats: stats,\n        algorithm: algorithm,\n        setAlgorithm: setAlgorithm,\n        onNewGame: handleNewGame,\n        onStep: handleStep,\n        onAuto: handleAutoPlay,\n        autoRunning: autoRunning,\n        canStep: game.status === 'playing'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        flex: '1 1 auto',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        justifyContent: 'flex-start',\n        marginTop: 0\n      },\n      children: /*#__PURE__*/_jsxDEV(Board, {\n        game: game\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        flex: '0 0 auto',\n        display: 'flex',\n        flexDirection: 'column',\n        alignItems: 'center',\n        marginLeft: 32,\n        marginTop: 48,\n        width: 360\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          background: '#222',\n          color: '#fff',\n          padding: 12,\n          borderRadius: 8,\n          maxHeight: 600,\n          overflowY: 'auto',\n          fontSize: 14,\n          minWidth: 340,\n          width: 340,\n          margin: '0 auto'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n          children: \"Action Log:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          style: {\n            margin: 0,\n            paddingLeft: 18\n          },\n          children: log.slice(-40).map((entry, i) => {\n            let color = '#fff';\n            if (/^\\[GOLD\\]/.test(entry)) color = 'gold';else if (/WON!|killed the Wumpus|found the gold/i.test(entry)) color = '#00e676'; // green\n            else if (/Lost!|fell into a pit|encountered the Wumpus/i.test(entry)) color = '#ff7043'; // orange/red\n            else if (/warning|breeze|smell|hear flapping/i.test(entry)) color = '#b388ff'; // purple\n            else if (/shoots|arrow|teleport|carried by bats/i.test(entry)) color = '#4fc3f7'; // light blue\n            return /*#__PURE__*/_jsxDEV(\"li\", {\n              style: {\n                color\n              },\n              children: entry.replace(/^\\[GOLD\\]\\s*/, '')\n            }, i, false, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 17\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 63,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"j425faJlitWcbfEfVmi8zPCfw8E=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","Board","Stats","createNewGame","createAgentState","agentStepWithAlgorithm","jsxDEV","_jsxDEV","App","_s","stats","setStats","useState","games","victories","game","setGame","g","agentState","agentPos","autoRunning","setAutoRunning","log","setLog","actionLog","algorithm","setAlgorithm","useEffect","status","prev","isWin","handleNewGame","handleStep","t","setTimeout","clearTimeout","handleAutoPlay","r","className","style","display","flexDirection","minHeight","width","alignItems","justifyContent","children","flex","margin","onNewGame","onStep","onAuto","canStep","fileName","_jsxFileName","lineNumber","columnNumber","marginTop","marginLeft","background","color","padding","borderRadius","maxHeight","overflowY","fontSize","minWidth","paddingLeft","slice","map","entry","i","test","replace","_c","$RefreshReg$"],"sources":["/workspaces/HuntTheWumpus/hunt-the-wumpus-react/src/App.tsx"],"sourcesContent":["import React from 'react';\nimport Board from './components/Board';\nimport Stats from './components/Stats';\nimport Controls from './components/Controls';\nimport { createNewGame, createAgentState, agentStepWithAlgorithm } from './utils/gameLogic';\nimport { GameState } from './utils/gameTypes';\nimport './App.css';\n\nconst App: React.FC = () => {\n  // Persistent stats state\n  const [stats, setStats] = React.useState<{ games: number; victories: number }>({ games: 0, victories: 0 });\n  const [game, setGame] = React.useState<GameState>(() => {\n    const g = createNewGame(stats);\n    g.agentState = createAgentState(g.agentPos);\n    return g;\n  });\n  const [autoRunning, setAutoRunning] = React.useState(false);\n  const [log, setLog] = React.useState<string[]>(game.actionLog || []);\n  const [algorithm, setAlgorithm] = React.useState<string>('dfs');\n\n  React.useEffect(() => {\n    setLog(game.actionLog || []);\n  }, [game]);\n\n  // Update stats when game ends\n  React.useEffect(() => {\n    if (game.status === 'won' || game.status === 'lost') {\n      setStats((prev) => {\n        const isWin = game.status === 'won';\n        return {\n          games: prev.games + 1,\n          victories: prev.victories + (isWin ? 1 : 0),\n        };\n      });\n    }\n    // eslint-disable-next-line\n  }, [game.status]);\n\n  const handleNewGame = () => {\n    const g = createNewGame(stats);\n    g.agentState = createAgentState(g.agentPos);\n    setGame(g);\n    setAutoRunning(false);\n  };\n\n  const handleStep = () => {\n    setGame((prev) => agentStepWithAlgorithm({ ...prev, agentState: prev.agentState }, algorithm as 'dfs' | 'astar'));\n  };\n\n  // Auto play effect\n  React.useEffect(() => {\n    if (autoRunning && game.status === 'playing') {\n      const t = setTimeout(() => handleStep(), 100); \n      return () => clearTimeout(t);\n    }\n  }, [autoRunning, game]);\n\n  const handleAutoPlay = () => {\n    setAutoRunning((r) => !r);\n  };\n\n  return (\n    <div className=\"App\" style={{ display: 'flex', flexDirection: 'row', minHeight: '100vh', width: '100vw', alignItems: 'flex-start', justifyContent: 'flex-start' }}>\n      {/* Left column: Stats panel */}\n      <div style={{ flex: '0 0 auto', display: 'flex', flexDirection: 'column', alignItems: 'center', margin: '32px 0 0 32px' }}>\n        <Stats\n          game={game}\n          stats={stats}\n          algorithm={algorithm}\n          setAlgorithm={setAlgorithm}\n          onNewGame={handleNewGame}\n          onStep={handleStep}\n          onAuto={handleAutoPlay}\n          autoRunning={autoRunning}\n          canStep={game.status === 'playing'}\n        />\n      </div>\n      {/* Center column: Board */}\n      <div style={{ flex: '1 1 auto', display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'flex-start', marginTop: 0 }}>\n        <Board game={game} />\n      </div>\n      {/* Right column: Action log */}\n      <div style={{ flex: '0 0 auto', display: 'flex', flexDirection: 'column', alignItems: 'center', marginLeft: 32, marginTop: 48, width: 360 }}>\n        <div style={{ background: '#222', color: '#fff', padding: 12, borderRadius: 8, maxHeight: 600, overflowY: 'auto', fontSize: 14, minWidth: 340, width: 340, margin: '0 auto' }}>\n          <b>Action Log:</b>\n          <ul style={{ margin: 0, paddingLeft: 18 }}>\n            {log.slice(-40).map((entry, i) => {\n              let color = '#fff';\n              if (/^\\[GOLD\\]/.test(entry)) color = 'gold';\n              else if (/WON!|killed the Wumpus|found the gold/i.test(entry)) color = '#00e676'; // green\n              else if (/Lost!|fell into a pit|encountered the Wumpus/i.test(entry)) color = '#ff7043'; // orange/red\n              else if (/warning|breeze|smell|hear flapping/i.test(entry)) color = '#b388ff'; // purple\n              else if (/shoots|arrow|teleport|carried by bats/i.test(entry)) color = '#4fc3f7'; // light blue\n              return (\n                <li key={i} style={{ color }}>{entry.replace(/^\\[GOLD\\]\\s*/, '')}</li>\n              );\n            })}\n          </ul>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}